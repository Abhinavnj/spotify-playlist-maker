<!doctype html>
<html>

<head>
    <title>Spotify Playlist Maker</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <style type="text/css">
        #login,
        #loggedin {
            display: none;
        }

        .text-overflow {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            width: 500px;
        }

        .form-group .control-label:after {
            content:"*";
            color:red;
        }
    </style>
</head>

<body>
    <div class="container">
        <div id="login">
            <h1>Log in to Spotify to continue:</h1>
            <a href="/login" class="btn btn-primary">Log in with Spotify</a>
        </div>
        <div id="loggedin">
            <div id="user-profile">
            </div>
            <div id="oauth">
            </div>
            <!-- <button class="btn btn-default" id="obtain-new-token">Obtain new token using the refresh token</button> -->
        </div>
    </div>

    <script id="user-profile-template" type="text/x-handlebars-template">
        <h1>Logged in as {{display_name}}</h1>
        
        <div class="media">
            <div class="pull-left">
                <img class="media-object" width="150" src="{{images.0.url}}" />
            </div>
            <div class="media-body">
                <dl class="dl-horizontal">
                    <dt>Display name</dt><dd class="clearfix">{{display_name}}</dd>
                    <dt>Id</dt><dd>{{id}}</dd>
                    <dt>Email</dt><dd>{{email}}</dd>
                    <dt>Spotify URI</dt><dd><a href="{{external_urls.spotify}}">{{external_urls.spotify}}</a></dd>
                    <dt>Link</dt><dd><a href="{{href}}">{{href}}</a></dd>
                    <dt>Profile Image</dt><dd class="clearfix"><a href="{{images.0.url}}">{{images.0.url}}</a></dd>
                    <dt>Country</dt><dd>{{country}}</dd>
                </dl>
            </div>
            <form action="recommendations" method="GET">
                <!-- <div class="form-group">
                    <label class="control-label">Username</label><br>
                    <input type="text" name="username" placeholder="Enter Spotify username" value="" required>
                </div> -->
                <div class="form-group">
                    <label class="control-label">Playlist Name</label><br>
                    <input type="text" name="name" placeholder="Playlist Name" value="" required>
                </div>
                <div class="form-group">
                    <label>Description of your playlist</label><br>
                    <input type="text" name="description" placeholder="Description">
                </div>
                <div class="form-group">
                    <label class="control-label">Artist 1</label><br>
                    <input type="text" name="artist1" placeholder="Enter an artist" required>
                </div>
                <div class="form-group">
                    <label>Artist 2</label><br>
                    <input type="text" name="artist2" placeholder="Enter an artist">
                </div>
                <div class="form-group">
                    <label>Artist 3</label><br>
                    <input type="text" name="artist3" placeholder="Enter an artist">
                </div>
                <div class="form-group">
                    <label>Artist 4</label><br>
                    <input type="text" name="artist4" placeholder="Enter an artist">
                </div>
                <div class="form-group">
                    <label>Artist 5</label><br>
                    <input type="text" name="artist5" placeholder="Enter an artist">
                </div>
                <div class="form-group">
                    <label>Genre 1</label><br>
                    <input type="text" name="genre1" placeholder="country" value="">
                </div>
                <div class="form-group">
                    <label>Genre 2</label><br>
                    <input type="text" name="genre2" placeholder="hip hop" value="">
                </div>
                <input hidden type="text" name="username" value={{id}}>
                <button type="submit">Submit</button>
            </form>
        </div>
    </script>

    <!-- <script id="oauth-template" type="text/x-handlebars-template"></script> -->
    <script id="oauth-template" type="text/x-handlebars-template">
        <!-- <form action="create" method="GET"> -->
        <!-- <form action="recommendations" method="GET">
            <div class="form-group">
                <label class="control-label">Username</label><br>
                <input type="text" name="username" placeholder="Enter Spotify username" value="" required>
            </div>
            <div class="form-group">
                <label class="control-label">Playlist Name</label><br>
                <input type="text" name="name" placeholder="Playlist Name" value="" required>
            </div>
            <div class="form-group">
                <label>Description of your playlist</label><br>
                <input type="text" name="description" placeholder="Description">
            </div>
            <div class="form-group">
                <label class="control-label">Artist 1</label><br>
                <input type="text" name="artist1" placeholder="Enter an artist" value="" required>
            </div>
            <div class="form-group">
                <label>Artist 2</label><br>
                <input type="text" name="artist2" placeholder="Enter an artist" value="">
            </div>
            <div class="form-group">
                <label>Artist 3</label><br>
                <input type="text" name="artist3" placeholder="Enter an artist">
            </div>
            <div class="form-group">
                <label>Artist 4</label><br>
                <input type="text" name="artist4" placeholder="Enter an artist">
            </div>
            <div class="form-group">
                <label>Artist 5</label><br>
                <input type="text" name="artist5" placeholder="Enter an artist">
            </div>
            <div class="form-group">
                <label>Genre 1</label><br>
                <input type="text" name="genre1" placeholder="country" value="">
            </div>
            <div class="form-group">
                <label>Genre 2</label><br>
                <input type="text" name="genre2" placeholder="hip hop" value="">
            </div>
            <input hidden type="text" name="myAccessToken" value={{access_token}}>
            <button type="submit">Submit</button>
        </form> -->
    </script>

    <script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/2.0.0-alpha.1/handlebars.min.js"></script>
    <script src="https://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="auth.js"></script>
</body>

</html>